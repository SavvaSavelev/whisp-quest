# üì¶ Release Artifacts - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ò–∑–º–µ–Ω–µ–Ω–∏–π

## ‚ùì –ü–æ—á–µ–º—É –¥–∂–æ–± `üì¶ Build Release Artifacts` —Å–∫–∏–ø–∞–ª—Å—è?

### üîç **–ü—Ä–æ–±–ª–µ–º–∞:**
–†–∞–Ω—å—à–µ —É –¥–∂–æ–±–∞ `build-release` –±—ã–ª–æ —É—Å–ª–æ–≤–∏–µ:
```yaml
if: github.event_name == 'release'
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–ª–æ, —á—Ç–æ –¥–∂–æ–± –∑–∞–ø—É—Å–∫–∞–ª—Å—è **–¢–û–õ–¨–ö–û** –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–ª–∏–∑–∞ –Ω–∞ GitHub, –∞ –Ω–µ –ø—Ä–∏ –æ–±—ã—á–Ω–æ–º push –≤ –≤–µ—Ç–∫—É `master`.

### ‚úÖ **–†–µ—à–µ–Ω–∏–µ:**
–¢–µ–ø–µ—Ä—å –¥–∂–æ–± –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ master:
```yaml
if: github.ref == 'refs/heads/master' && needs.build-production.outputs.build-success == 'success'
```

## üöÄ **–ù–æ–≤–∞—è –õ–æ–≥–∏–∫–∞ Workflow:**

### –ü—Ä–∏ Push –≤ Master:
1. **üèóÔ∏è Build Production** - –ë–∏–ª–¥–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. **üåê Deploy to GitHub Pages** - –î–µ–ø–ª–æ–∏—Ç –Ω–∞ Pages
3. **üì¶ Build Release Artifacts** - –°–æ–∑–¥–∞–µ—Ç –∞—Ä—Ö–∏–≤ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

### –ü—Ä–∏ –°–æ–∑–¥–∞–Ω–∏–∏ Release:
1. **üèóÔ∏è Build Production** - –ë–∏–ª–¥–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
2. **üì¶ Build Release Artifacts** - –°–æ–∑–¥–∞–µ—Ç –∞—Ä—Ö–∏–≤ –ò –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç –∫ —Ä–µ–ª–∏–∑—É

## üìÅ **–ß—Ç–æ –°–æ–¥–µ—Ä–∂–∏—Ç Release Archive:**

```
whisp-quest-master-20250805-a1b2c3d.tar.gz
‚îú‚îÄ‚îÄ frontend/          # –ì–æ—Ç–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (dist/)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îî‚îÄ‚îÄ textures/
‚îú‚îÄ‚îÄ backend/           # Express —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ server-optimized.js
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ node_modules/
‚îú‚îÄ‚îÄ package.json       # –û—Å–Ω–æ–≤–Ω–æ–π package.json
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

### ‚úÖ **–î–ª—è Master Pushes:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å –ª—é–±—É—é –≤–µ—Ä—Å–∏—é –∏–∑ Actions
- Retention: 30 –¥–Ω–µ–π

### ‚úÖ **–î–ª—è Releases:**
- –ê—Ä—Ö–∏–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è –∫ —Ä–µ–ª–∏–∑—É
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ GitHub
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ —Ç–µ–≥–∞–º

## üìä **–ö–∞–∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**

1. **Push –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   ```bash
   git add .
   git commit -m "üîß Fix release artifacts workflow"
   git push origin master
   ```

2. **–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ Actions:**
   - –ò–¥—Ç–∏ –≤ GitHub ‚Üí Actions
   - –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫ "üöÄ Deploy to Production"
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3 –¥–∂–æ–±–∞: Build ‚Üí Pages ‚Üí **Release** ‚úÖ

3. **–°–∫–∞—á–∞—Ç—å –∞—Ä—Ö–∏–≤:**
   - –í –¥–µ—Ç–∏–ª—è—Ö workflow –ø–æ—è–≤–∏—Ç—Å—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç "release-archive-master"
   - –ú–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –∞—Ä—Ö–∏–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

### –£–º–Ω–æ–µ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –í–µ—Ä—Å–∏–∏:
```bash
# –î–ª—è master pushes
VERSION="master-20250805-a1b2c3d"

# –î–ª—è releases  
VERSION="v1.0.0"  # –ò–∑ GitHub release tag
```

### Conditional Upload:
- **Master pushes** ‚Üí Upload Artifact (30 –¥–Ω–µ–π)
- **Releases** ‚Üí Attach to Release (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ)

–¢–µ–ø–µ—Ä—å –≤–∞—à workflow –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å release artifacts –ø—Ä–∏ –∫–∞–∂–¥–æ–º push! üéâ
